<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
  <title>Omar Jaimes Rew</title>
  <meta name="description" content="Omar Jaimes Rew | Artista visual, curador e investigador en arte contemporáneo...">

  <!-- Estilos globales y de portada -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
 <link rel="stylesheet" href="css/estilos.css">
<link rel="stylesheet" href="css/menu.css">
<link rel="stylesheet" href="css/home.css">

 
</head>

<body class="home">
  <header>
    <div class="contenedor">
      <a href="index.html"><h1>OMAR JAIMES REW</h1></a>
      <input type="checkbox" id="menu-bar">
      <label for="menu-bar"><i class="fas fa-bars"></i></label>
      <nav class="menu">
        	<a href="artwork.html">ArtWork</a>
				<a href="collaborations.html">Collaborations</a>
				<a href="curator.html">Curator</a>
				<a href="papers.html">Papers</a>
				<a href="news.html">News</a>
				<a href="about.html">About</a>

      </nav>
    </div>
  </header>

  <main>
    <section id="banner" data-captions='["AUTORRETRATO IMPOSIBLE\n2021","WAVE\n2021","AFORISMOS\n2025","PORN GLITCH\n2017","DESIGUALDAD TONAL\n2023","DESAPARICI?N\n2016","AUTORRETRATO COMPARTIDO\n2021"]'>
      <video autoplay muted loop playsinline>
        <source src="videos/A_I_.mp4" type="video/mp4">
        Tu navegador no soporta la etiqueta de video.
      </video>
      <!-- Overlay para captions -->
      <div class="overlay"></div>
    </section>
  </main>

  <!-- Script inline para reel y captions desde data-attribute -->
  <script>
  (function() {
    const reel = [
      'videos/A_I_2M.mp4',
      'videos/Wave_home_1.mp4',
      'videos/Aforismos_home_1.mp4',
      'videos/Porn_glitch_home_1.mp4',
      'videos/desigualdad_tonal_home1.mp4',
      'videos/d07_1_1.mp4',
      'videos/Autorretrato_Imposible_Home.mp4'

    ];
    const topVideo = 'videos/desigualdad_tonal_home1.mp4';
    const fadeVideo = topVideo;
    const portraitWideVideo = 'videos/Autorretrato_Imposible_Home.mp4';
    let current = 0;

    const section = document.getElementById('banner');
    const captions = JSON.parse(section.dataset.captions);
    const videoEl  = section.querySelector('video');
    const sourceEl = videoEl.querySelector('source');
    const overlay  = section.querySelector('.overlay');
    const changeInterval = 5000; // 5 s

    function updateSlide() {
      sourceEl.src = reel[current];
      videoEl.load();  
      videoEl.play();

      videoEl.style.objectPosition = (reel[current] === topVideo) ? 'top center' : 'center center';
      section.classList.toggle('fade-sides', reel[current] === fadeVideo);
      section.classList.toggle('portrait-wide', reel[current] === portraitWideVideo);

      // Actualiza caption
      const caption = captions[current];
      if (caption) {
        const [title, ...subtitleParts] = caption.split('\n');
        overlay.innerHTML = `
          <div class="title">${title}</div>
          <div class="subtitle">
            ${subtitleParts.map((text, i) => 
              `<span class="${i === 0 ? 'big' : 'small'}">${text}</span>`
            ).join('')}
          </div>
        `;
      } else {
        overlay.innerHTML = '';
      }
    }

    
    // Inicializa
    updateSlide();

    // Ciclo
    setInterval(() => {
      current = (current + 1) % reel.length;
      updateSlide();
    }, changeInterval);
  })();
  </script>

// CALCULAR
<script>
  function setHeaderH(){
    const h = document.querySelector('header').offsetHeight + 'px';
    document.documentElement.style.setProperty('--header-h', h);
  }
  addEventListener('load', setHeaderH);
  addEventListener('resize', setHeaderH);
</script>


</body>
</html>
